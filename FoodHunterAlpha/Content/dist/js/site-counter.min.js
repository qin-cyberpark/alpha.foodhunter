!function(){"use strict";angular.module("food-hunters-counter",[])}(),function(){"use strict";function n(n){var e=this;e.orderIdsInQueue=null,e.currentOrder=null,e.audio_notification=new Audio("/content/new_order.mp3"),e.init=function(){e.initConnect(),e.loadOrderQueue()},e.loadOrderQueue=function(){n.get("/api/15/order/queue").success(function(n){n&&(e.orderIdsInQueue=n,e.currentOrder||e.loadOrder(e.orderIdsInQueue[0]))}).error(function(){})},e.initConnect=function(){$.connection.hub.logging=!1;var n=$.connection.centerHub;n.client.loadOrderQueue=function(){e.audio_notification.play(),e.loadOrderQueue()},$.connection.hub.start()},e.loadOrder=function(r){n.get("/api/15/order/"+r).success(function(n){n&&(console.log(n),e.currentOrder=n)}).error(function(){})},e.completeOrder=function(r){n.get("/api/15/complete/"+r).success(function(n){console.log(n),n&&(e.currentOrder=null,e.loadOrderQueue())}).error(function(){})}}angular.module("food-hunters-counter").controller("counterController",n),n.$inject=["$http"]}();